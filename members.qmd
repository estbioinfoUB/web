---
title: "Research Group Members"
format:
  html:
    toc: false
execute:
  echo: false
  warning: false
  message: false
---

## Current and Former Group Members

```{r}
library(yaml)
members <- yaml::read_yaml("data/members.yml")

# Dividim per categories (si no hi ha category → "Group Member")
group_members <- Filter(function(m) is.null(m$category), members)
external_collab <- Filter(function(m) !is.null(m$category) && m$category == "External Collaborator", members)
phd_students   <- Filter(function(m) !is.null(m$category) && m$category == "PhD Student", members)
former         <- Filter(function(m) !is.null(m$category) && m$category == "Former", members)
```

<div class="row row-cols-1 row-cols-md-3 g-4"> 

```{r, results='asis'} 
for (m in group_members) { cat(sprintf(' <div class="col"> <div class="card h-100 shadow-sm"> <img src="%s" class="card-img-top" alt="%s"> <div class="card-body"> <h5 class="card-title">%s</h5> <p class="card-text"><em>%s</em></p> </div> </div> </div>', m$photo, m$name, m$name, m$role)) } 
``` 
</div>

### External Collaborators

<ul> 
```{r, results='asis'} 
for (m in external_collab) { cat(sprintf("<li>%s — %s</li>", m$name, m$role)) } 
``` 
</ul>

### PhD Students

<ul> 
```{r, results='asis'} 
for (m in phd_students) { cat(sprintf("<li>%s</li>", m$name)) } 
``` 
</ul>

### Former Group Members

<ul> 

```{r, results='asis'} 
for (m in former) { if (!is.null(m$role)) { cat(sprintf("<li>%s (%s)</li>", m$name, m$role)) } else { cat(sprintf("<li>%s</li>", m$name)) } } 
``` 
</ul> 


